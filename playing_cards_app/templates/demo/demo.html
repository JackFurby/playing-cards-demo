{% extends "template_parts/base.html" %}


{% block content %}
<main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
	<div class="bg-white p-3 mt-4">
		<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3">
			<h1 class="h2">Demo</h1>
		</div>
		<hr/>

		<div class="row">
			<div class="col-xs-10 col-sm-10 col-md-10 col-lg-6 m-auto">
				{% if image == None %}
					<img class="mb-3" src="{{ url_for('demo.video_feed') }}" width="100%">
					<form method="post" action="{{ url_for('demo.demo') }}">
						<button type="submit" class="btn btn-outline-primary" name="submit" value="picture"><i class="bi-camera-fill"></i> Take picture</button>
					</form>
					<form method="post" action="{{ url_for('demo.upload_files') }}" enctype="multipart/form-data">
						<p><input type="file" class="form-control" name="image_file" accept="image/*"></p>
						<button type="submit" class="btn btn-outline-primary" name="submit"><i class="bi-image"></i> Upload image</button>
					</form>
				{% elif image == "picture" or image == "upload" %}
					<img class="mb-3" src="{{ url_for('demo.upload', filename=name) }}" width="100%">
					<form method="post" action="{{ url_for('demo.demo') }}">
						<button type="submit" class="btn btn-outline-primary" name="submit" value="reset"><i class="bi-arrow-counterclockwise"></i> Select differnt input</button>
					</form>
					<form method="post" action="{{ url_for('demo.results') }}">
						<input type="hidden" name="model_input" value="{{ name }}">
						<button type="submit" class="btn btn-outline-primary" name="submit"><i class="bi-check-circle-fill"></i> Submit image</button>
					</form>
				{% endif %}
			</div>
		</div>

		<br/>
	</div>

</main>

{% endblock %}
